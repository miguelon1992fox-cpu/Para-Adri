<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Adri ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Poppins',sans-serif;
background:linear-gradient(135deg,#1a001a,#330033,#660066);
color:white;
text-align:center;
overflow:hidden;
}

/* Fondo estrellas */
.stars{
position:fixed;
width:100%;
height:100%;
background:url('https://www.transparenttextures.com/patterns/stardust.png');
opacity:0.3;
z-index:0;
}

/* Player */
.player{
position:fixed;
top:15px;
left:50%;
transform:translateX(-50%);
background:rgba(255,255,255,0.1);
backdrop-filter:blur(10px);
padding:10px 20px;
border-radius:30px;
font-size:14px;
z-index:10;
}

/* Contenido central */
.container{
position:relative;
z-index:5;
margin-top:120px;
}

/* Coraz√≥n SVG */
.heart{
width:130px;
cursor:pointer;
animation:beat 1.2s infinite;
filter:drop-shadow(0 0 20px red);
}

@keyframes beat{
0%,100%{transform:scale(1);}
50%{transform:scale(1.15);}
}

#text{
margin-top:30px;
font-size:20px;
min-height:80px;
padding:0 20px;
}

/* Bot√≥n */
.reveal-btn{
display:none;
margin-top:30px;
padding:15px 25px;
border:none;
border-radius:30px;
background:linear-gradient(45deg,#ff4d6d,#ff99ac);
color:white;
font-size:16px;
cursor:pointer;
box-shadow:0 0 15px pink;
}

/* Polaroid */
.polaroid{
display:none;
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%) rotate(-5deg);
background:linear-gradient(145deg,#f8cdda,#fbc2eb);
padding:15px 15px 40px 15px;
border-radius:12px;
box-shadow:0 25px 50px rgba(0,0,0,0.6);
z-index:20;
animation:drop 1s ease forwards;
}

.polaroid img{
width:230px;
border-radius:10px;
display:block;
filter:sepia(15%) contrast(105%);
}

@keyframes drop{
from{transform:translate(-50%,-200%) rotate(-15deg);opacity:0;}
to{transform:translate(-50%,-50%) rotate(-5deg);opacity:1;}
}

/* P√©talos */
.petal{
position:fixed;
top:-20px;
width:14px;
height:14px;
background:pink;
border-radius:50%;
opacity:0.8;
animation:fall linear forwards;
z-index:15;
}

@keyframes fall{
to{transform:translateY(110vh);}
}

/* Contador */
.counter{
position:fixed;
bottom:20px;
width:100%;
font-size:14px;
z-index:5;
}
</style>
</head>

<body>

<div class="stars"></div>

<div class="player">
üéµ <span id="current">0:00</span> / <span id="duration">0:00</span>
</div>

<div class="container">

<svg class="heart" onclick="startExperience()" viewBox="0 0 32 29.6">
<path fill="red" d="M23.6,0c-3.4,0-6.4,2.2-7.6,5.3C14.8,2.2,11.8,0,8.4,0
C3.8,0,0,3.8,0,8.4c0,9.3,16,21.2,16,21.2s16-11.9,16-21.2C32,3.8,28.2,0,23.6,0z"/>
</svg>

<div id="text"></div>

<button class="reveal-btn" onclick="showPhoto()">Toca para ver nuestro futuro ‚ù§Ô∏è</button>

</div>

<div class="polaroid" id="photo">
<img src="foto.jpg">
</div>

<div class="counter" id="counter"></div>

<audio id="music">
<source src="music.mp3" type="audio/mpeg">
</audio>

<script>
const phrases=[
"Te amo de aqu√≠ a la luna en pasitos de tortuga üê¢",
"Eres el motor de mi vida üíï",
"Una vida a tu lado es la que anhelo üè°",
"Eres el regalito que Dios me envi√≥ üíù",
"Siempre despierto y eres lo primero en lo que pienso ü•∞‚òÄÔ∏è",
"Soy completamente tuyo üíï"
];

let i=0,j=0;
const textElement=document.getElementById("text");
const revealBtn=document.querySelector(".reveal-btn");
const music=document.getElementById("music");

/* Escritura */
function typeEffect(){
if(i<phrases.length){
let phrase=phrases[i];
if(j<phrase.length){
textElement.innerHTML+=phrase[j];
j++;
setTimeout(typeEffect,50);
}else{
setTimeout(()=>{
textElement.innerHTML="";
j=0;i++;
typeEffect();
},2000);
}
}else{
document.querySelector(".heart").style.display="none";
revealBtn.style.display="inline-block";
}
}

function startExperience(){
music.play().catch(()=>{});
if(i===0) typeEffect();
}

/* Contador m√∫sica */
music.addEventListener("loadedmetadata",()=>{
document.getElementById("duration").textContent=formatTime(music.duration);
});

music.addEventListener("timeupdate",()=>{
document.getElementById("current").textContent=formatTime(music.currentTime);
});

function formatTime(t){
let m=Math.floor(t/60);
let s=Math.floor(t%60);
if(s<10) s="0"+s;
return m+":"+s;
}

/* Contador relaci√≥n */
function updateCounter(){
const start=new Date("2023-02-11T00:00:00");
const now=new Date();
const diff=Math.floor((now-start)/(1000*60*60*24));
document.getElementById("counter").innerHTML=
"‚ù§Ô∏è 3 a√±os juntos | "+(diff-1095)+" d√≠as m√°s";
}
updateCounter();

/* Foto + p√©talos */
function showPhoto(){
document.getElementById("photo").style.display="block";
createPetals();
}

function createPetals(){
for(let k=0;k<25;k++){
let petal=document.createElement("div");
petal.classList.add("petal");
petal.style.left=Math.random()*100+"vw";
petal.style.animationDuration=(4+Math.random()*3)+"s";
document.body.appendChild(petal);
setTimeout(()=>petal.remove(),7000);
}
}
</script>

</body>
</html>
