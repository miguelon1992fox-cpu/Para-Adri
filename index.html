<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Adri ‚ù§Ô∏è</title>

<style>
body{
margin:0;
padding:0;
background:linear-gradient(180deg,#3b003b,#6a006a);
overflow:hidden;
font-family:'Segoe UI',sans-serif;
text-align:center;
color:white;
}

/* PLAYER */
.player{
position:fixed;
top:20px;
left:50%;
transform:translateX(-50%);
background:#4b003f;
padding:20px;
border-radius:20px;
box-shadow:0 0 30px #ff66c4;
z-index:10;
}

.heart{
font-size:120px;
cursor:pointer;
margin-top:250px;
animation:latido 1s infinite;
position:relative;
z-index:5;
}

@keyframes latido{
0%{transform:scale(1);}
50%{transform:scale(1.2);}
100%{transform:scale(1);}
}

.polaroid{
position:absolute;
top:140px;
left:50%;
transform:translateX(-50%) rotate(-5deg);
background:#e0cbb4;
padding:20px 20px 40px 20px;
box-shadow:0 15px 30px rgba(0,0,0,0.6);
display:none;
z-index:4; /* debajo del reproductor */
}

.polaroid img{
width:300px;
height:350px;
object-fit:cover;
}

.polaroid p{
margin-top:15px;
color:#5a4033;
font-weight:bold;
}

.bubble{
position:absolute;
background:rgba(255,255,255,0.15);
padding:15px 25px;
border-radius:30px;
backdrop-filter:blur(10px);
animation:flotar 4s forwards;
font-size:18px;
z-index:8;
}

@keyframes flotar{
0%{opacity:0;transform:translateY(20px);}
100%{opacity:1;transform:translateY(-40px);}
}

.propuesta{
display:none;
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
z-index:20;
background:rgba(0,0,0,0.4);
padding:40px;
border-radius:20px;
}

.propuesta button{
padding:10px 25px;
margin:15px;
border:none;
border-radius:20px;
font-size:18px;
cursor:pointer;
}

.si{background:#ff4da6;color:white;}
.no{background:white;color:#ff4da6;}
</style>
</head>

<body>

<div class="player">
<h3>Tatu ‚Äî Mar√≠a Becerra üéµ</h3>
<audio id="music" src="music.mp3"></audio>
<button onclick="toggleMusic()">Play / Pause</button>
</div>

<div class="heart" id="heart">‚ù§Ô∏è</div>

<div class="polaroid" id="photo">
<img src="foto.jpg">
<p>Pronto estaremos juntos, mi vida ‚ù§Ô∏è</p>
</div>

<div class="propuesta" id="propuesta">
<h1>¬øQuieres ser el amor de todas mis vidas? üíç‚ù§Ô∏è</h1>
<button class="si" onclick="acepto()">S√≠</button>
<button class="no" onclick="noAcepto()">No</button>
</div>

<script>

const frases=[
"Eres mi lugar favorito ‚ù§Ô∏è",
"Contigo quiero todo üíï",
"Eres mi sue√±o hecho realidad ‚ú®",
"Gracias por estos 3 a√±os üíñ",
"Eres mi persona especial üíû"
];

let index=0;
let musicStarted=false;

const heart=document.getElementById("heart");
const photo=document.getElementById("photo");
const propuesta=document.getElementById("propuesta");
const music=document.getElementById("music");

heart.addEventListener("click",()=>{

if(!musicStarted){
music.play().catch(()=>{});
musicStarted=true;
}

if(index===0){
photo.style.display="block";
}

if(index<frases.length){
crearBurbuja(frases[index]);
index++;
}else{
final();
}

});

function crearBurbuja(texto){

const bubble=document.createElement("div");
bubble.className="bubble";
bubble.innerText=texto;

let heartRect=heart.getBoundingClientRect();

let angle=Math.random()*360;
let radius=150;

let x=heartRect.left+heartRect.width/2 + radius*Math.cos(angle);
let y=heartRect.top+heartRect.height/2 + radius*Math.sin(angle);

bubble.style.left=x+"px";
bubble.style.top=y+"px";

document.body.appendChild(bubble);

setTimeout(()=>bubble.remove(),4000);
}

function final(){
photo.style.display="none";
heart.style.display="none";
propuesta.style.display="block";
}

function toggleMusic(){
if(music.paused){
music.play().catch(()=>{});
}else{
music.pause();
}
}

function acepto(){
alert("Sab√≠a que dir√≠as que s√≠ üíç‚ù§Ô∏è Te amo infinitamente");
}

let intentos=0;
function noAcepto(){
intentos++;
if(intentos===1){
alert("¬øEst√°s segura? üò¢");
}else if(intentos===2){
alert("Pi√©nsalo bien ü•∫");
}else{
alert("El destino ya decidi√≥ que s√≠ ‚ù§Ô∏è");
}
}

</script>

</body>
</html>
